<!-- templates/chat.html -->
<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>SG RAG Chat</title>
  <style>
    body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; padding: 24px; background: #0f172a; color: #e2e8f0; }
    .container { max-width: 880px; margin: 0 auto; }
    h1 { font-size: 22px; margin-bottom: 16px; color: #f1f5f9; }
    .bubble { padding: 14px 16px; border-radius: 14px; margin: 10px 0; line-height: 1.5; white-space: pre-wrap; }
    .user   { background: #1e293b; border: 1px solid #334155; }
    .bot    { background: #0b2e1d; border: 1px solid #14532d; }
    .meta   { font-size: 12px; color: #93c5fd; margin-top: 6px; }
    .srcs   { font-size: 12px; color: #94a3b8; margin-top: 8px; }
    a { color: #93c5fd; }
    .footer { margin-top: 24px; font-size: 12px; color: #94a3b8; }
    /* Typing dots loader */
    .dot-flashing {
    position: relative;
    left: 4px;
    display: inline-block;
    width: 6px;
    height: 6px;
    border-radius: 3px;
    background-color: #cbd5e1;
    color: #cbd5e1;
    animation: dotFlashing 1s infinite linear alternate;
    animation-delay: .5s;
    }
    .dot-flashing::before, .dot-flashing::after {
    content: '';
    display: inline-block;
    position: absolute;
    top: 0;
    }
    .dot-flashing::before {
    left: -10px;
    width: 6px; height: 6px; border-radius: 3px; background: #cbd5e1;
    animation: dotFlashing 1s infinite alternate; animation-delay: 0s;
    }
    .dot-flashing::after {
    left: 10px;
    width: 6px; height: 6px; border-radius: 3px; background: #cbd5e1;
    animation: dotFlashing 1s infinite alternate; animation-delay: 1s;
    }
    @keyframes dotFlashing {
    0% { background-color: #cbd5e1; }
    50%, 100% { background-color: #475569; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Singapore Integration Assistant (RAG-first)</h1>
    <div id="chat">
      {{MESSAGES_HTML}}
    </div>
    <div class="footer">No data is stored. Answers are grounded in your uploaded docs when available.</div>
  </div>
</body>
</html>
